import{w as s}from"./C09VzrSt.js";import{b as i}from"./kcvwF34I.js";const n=()=>{const{subscribe:a,set:t}=s(!1);return{subscribe:a,login:async e=>{try{const r=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),{isValid:o}=await r.json();return o&&i&&(localStorage.setItem("auth","true"),t(!0)),o}catch(r){return console.error("Authentication error:",r),!1}},logout:()=>{localStorage.removeItem("auth"),t(!1)},initialize:()=>{{const e=localStorage.getItem("auth")==="true";t(e)}}}},u=n();export{u as a};
