import{t as L,a as h}from"../chunks/DgjOo8wN.js";import"../chunks/DolXfUYJ.js";import{i as z,am as k,C as A,an as C,p as D,t as P,g as f,a as $,$ as I,s as b,c as d,ac as M,r as c,ao as q,e as u}from"../chunks/BqvGGWAT.js";import{s as R}from"../chunks/BF1wp9im.js";import{i as j}from"../chunks/CSufngwG.js";import{h as B}from"../chunks/BpJ3m2fZ.js";import{r as F}from"../chunks/t0Rk3l2Z.js";import{t as G}from"../chunks/1VidrSLw.js";import{l as H,e as J}from"../chunks/BEp_Ta8H.js";import{i as K}from"../chunks/DXAzL4kY.js";import{a as O}from"../chunks/D2hXaf9R.js";import{g as Q}from"../chunks/K-urNrHL.js";function T(e,t,s,o,a,r){var n=e.__className;if(z||n!==s){var i=G(s,o,r);(!z||i!==e.getAttribute("class"))&&(i==null?e.removeAttribute("class"):e.className=i),e.__className=s}else if(r&&a!==r)for(var v in r){var m=!!r[v];(a==null||m!==!!a[v])&&e.classList.toggle(v,m)}return r}function U(e,t,s=t){var o=k();H(e,"input",a=>{var r=a?e.defaultValue:e.value;if(r=y(e)?w(r):r,s(r),o&&r!==(r=t())){var n=e.selectionStart,i=e.selectionEnd;e.value=r??"",i!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length))}}),(z&&e.defaultValue!==e.value||A(t)==null&&e.value)&&s(y(e)?w(e.value):e.value),C(()=>{var a=t();y(e)&&a===w(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function y(e){var t=e.type;return t==="number"||t==="range"}function w(e){return e===""?null:+e}function W(e){return function(...t){var s=t[0];return s.preventDefault(),e==null?void 0:e.apply(this,t)}}var X=L('<meta name="description" content="Login page">'),Y=L('<p class="error-message svelte-1qzg8bg">Invalid password. Please try again.</p>'),Z=L('<div class="login-container svelte-1qzg8bg"><div class="login-box svelte-1qzg8bg"><h1 class="svelte-1qzg8bg">Login Required</h1> <form><div class="input-group svelte-1qzg8bg"><label for="password" class="svelte-1qzg8bg">Enter Password</label> <input type="password" id="password" placeholder="Enter the daily password"></div> <!> <button type="submit" class="svelte-1qzg8bg"> </button></form></div></div>');function ue(e,t){D(t,!1);let s=q(""),o=q(!1),a=q(!1);async function r(){u(a,!0),u(o,!1);try{await O.login(f(s))?Q("/"):(u(o,!0),u(s,""))}catch(l){u(o,!0),console.error("Login error:",l)}finally{u(a,!1)}}K();var n=Z();B(l=>{var _=X();I.title="Login",h(l,_)});var i=d(n),v=b(d(i),2),m=d(v),g=b(d(m),2);F(g);let E;c(m);var V=b(m,2);{var N=l=>{var _=Y();h(l,_)};j(V,l=>{f(o)&&l(N)})}var p=b(V,2),S=d(p,!0);c(p),c(v),c(i),c(n),P(l=>{g.disabled=f(a),E=T(g,1,"svelte-1qzg8bg",null,E,l),p.disabled=f(a),R(S,f(a)?"Checking...":"Login")},[()=>({error:f(o)})],M),U(g,()=>f(s),l=>u(s,l)),J("submit",v,W(r)),h(e,n),$()}export{ue as component};
