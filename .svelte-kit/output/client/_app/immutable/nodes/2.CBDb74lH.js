import"../chunks/NZTpNUN0.js";import{p as O,Y as W,l as M,a2 as R,aa as s,ac as p,ab as i,a9 as T,a8 as Y}from"../chunks/B7pVfImq.js";import{s as q,e as d}from"../chunks/C49klihd.js";import{i as y,s as A,a as $}from"../chunks/C_PPKRUY.js";import{t as l,h as B,a as n}from"../chunks/C7ddXOl0.js";import{r as D,p as F}from"../chunks/BQhN11bg.js";import{b as H}from"../chunks/CQi3uyDk.js";import{g as C}from"../chunks/BYdse5x5.js";import{a as b}from"../chunks/C2mqf3jC.js";const I=!0,ie=Object.freeze(Object.defineProperty({__proto__:null,prerender:I},Symbol.toStringTag,{value:"Module"}));var J=l('<meta name="description" content="Card collection game">'),K=l('<div class="welcome-back svelte-1w4obik"><h2 class="svelte-1w4obik"> </h2> <p>Ready to continue your collection?</p> <button class="svelte-1w4obik">Go to Collection</button></div>'),N=l('<p class="error svelte-1w4obik"></p>'),Q=l('<div class="input-group svelte-1w4obik"><input type="text" placeholder="Enter your username" class="svelte-1w4obik"> <button class="svelte-1w4obik">Start Playing</button></div> <!>',1),U=l('<div class="container svelte-1w4obik"><div class="login-box svelte-1w4obik"><h1>Welcome to Card Collection</h1> <!></div></div>');function ne(x,P){O(P,!0);const[f,L]=A(),_=()=>$(F,"$page",f),g=()=>$(b,"$auth",f);let c="",v="";W(()=>{b.initialize()});async function k(){if(!c.trim()){v="Please enter a username";return}try{await b.login(c),C(`/collection?token=${_().url.searchParams.get("token")}`)}catch(e){console.error("Login error:",e),v="Login failed"}}var m=U();B(e=>{var t=J();R.title="Card Collection Game",n(e,t)});var h=s(m),S=p(s(h),2);{var j=e=>{var t=K(),a=s(t),r=s(a);i(a);var u=p(a,4);i(t),T(()=>q(r,`Welcome back, ${g().username??""}!`)),d("click",u,()=>C(`/collection?token=${_().url.searchParams.get("token")}`)),n(e,t)},z=e=>{var t=Q(),a=Y(t),r=s(a);D(r);var u=p(r,2);i(a);var E=p(a,2);{var G=o=>{var w=N();w.textContent=v,n(o,w)};y(E,o=>{v&&o(G)})}H(r,()=>c,o=>c=o),d("keydown",r,o=>o.key==="Enter"&&k()),d("click",u,k),n(e,t)};y(S,e=>{g().username?e(j):e(z,!1)})}i(h),i(m),n(x,m),M(),L()}export{ne as component,ie as universal};
